(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{10:function(e,t,a){e.exports={App:"Main_App__2LAkY",appHeader:"Main_appHeader__2Sh15",appWrapper:"Main_appWrapper__1ytSq",appInner:"Main_appInner__yFPhO",weatherCondition:"Main_weatherCondition__1IKFo",temperature:"Main_temperature__Ysq96",middle:"Main_middle__1D-d2",description:"Main_description__Sw96o"}},14:function(e,t,a){e.exports={header:"HourlyWeather_header__1PNST",hourlyWeather:"HourlyWeather_hourlyWeather__27i1B",hourlyCard:"HourlyWeather_hourlyCard__1_xOF",date:"HourlyWeather_date__O55l_",degrees:"HourlyWeather_degrees__1hSnq",weatherCondition:"HourlyWeather_weatherCondition__3WOxn",feelsLike:"HourlyWeather_feelsLike__25sYa"}},18:function(e,t,a){e.exports={header:"WeekWeather_header__1oSl8",forecastWrapper:"WeekWeather_forecastWrapper__2In7N"}},24:function(e,t,a){e.exports={App:"Daily_App__1pEra",appHeader:"Daily_appHeader__3kX1Z",arrow:"Daily_arrow__2nTDE"}},41:function(e,t,a){e.exports={weekdayName:"OneDayWeather_weekdayName__OdtAS"}},62:function(e,t,a){},93:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(36),i=a.n(r),c=(a(62),a(10)),s=a.n(c),d=a(11),o=a(37),l=a.n(o).a.create({baseURL:"http://api.openweathermap.org/data/2.5/"}),u=function(e,t){return l.get("weather?lat=".concat(e,"&lon=").concat(t,"&units=metric&lang=ru&appid=cf10b6eda7817e86696f8e4106d14a27"))},h=function(e,t){return l.get("forecast?lat=".concat(e,"&lon=").concat(t,"&units=metric&lang=ru&appid=cf10b6eda7817e86696f8e4106d14a27"))},j=a(12),p=function(e,t){switch(e){case"Thunderstorm":return"./img/weather/thunder.svg";case"Drizzle":return"./img/weather/drizzle.svg";case"Rain":return"./img/weather/rain.svg";case"Snow":return"./img/weather/snow.svg";case"Clear":return t>="18:00"||t<="05:00"?"./img/weather/night.svg":"./img/weather/day.svg";case"Clouds":return t>="18:00"||t<="05:00"?"./img/weather/cloudy-night.svg":"./img/weather/cloudy-day.svg";default:return"./img/weather/mist.svg"}},m=a(1),b=function(){return Object(m.jsx)("div",{children:Object(m.jsx)("img",{width:100,height:100,src:"./img/content/loader.svg",alt:"Loading..."})})},g=function(){var e=Object(n.useState)([]),t=Object(d.a)(e,2),a=t[0],r=t[1],i=Object(n.useState)(!0),c=Object(d.a)(i,2),o=c[0],l=c[1];return Object(n.useEffect)((function(){l(!0),navigator.geolocation.getCurrentPosition((function(e){try{u(e.coords.latitude,e.coords.longitude).then((function(e){var t=1e3*e.data.dt,a=new Date(t),n=e.data.weather[0],i=n.description,c=n.main,s=e.data.main,d=s.temp,o=s.feels_like,u=e.data.name;r({name:u,temp:d,feels_like:o,description:i,main:c,date:a}),l(!1)}))}catch(t){console.log(t),alert("\u0412\u043e\u0437\u043d\u0438\u043a\u043b\u0430 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0430. \u041b\u0438\u043c\u0438\u0442 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440 \u043d\u0430 \u0441\u0435\u0433\u043e\u0434\u043d\u044f, \u0432\u0438\u0434\u0438\u043c\u043e, \u0438\u0441\u0447\u0435\u0440\u043f\u0430\u043d :(")}}),(function(){alert("\u041c\u043e\u0435 \u0441\u0443\u043f\u0435\u0440 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435, \u043a \u0441\u043e\u0436\u0430\u043b\u0435\u043d\u0438\u044e, \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c \u0431\u0435\u0437 \u0432\u0430\u0448\u0438\u0445 \u0433\u0435\u043e\u0434\u0430\u043d\u043d\u044b\u0445. \u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u0435 \u043c\u043d\u0435 \u0438\u043c\u0438 \u0432\u043e\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u043f\u043b\u0437")}),{enableHighAccuracy:!0})}),[]),Object(m.jsx)("div",{className:s.a.App,children:Object(m.jsx)("header",{className:s.a.appHeader,children:Object(m.jsx)("div",{className:s.a.appWrapper,children:Object(m.jsx)("div",{className:s.a.appInner,children:o?Object(m.jsx)(b,{}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("h1",{children:a.name}),Object(m.jsxs)("div",{className:s.a.weatherCondition,children:[Object(m.jsxs)("div",{className:s.a.temperature,children:[Math.round(a.temp),Object(m.jsx)("span",{children:"\xb0C"})]}),Object(m.jsx)("img",{width:100,height:100,src:p(a.main,new Date(a.date).toLocaleString("ru-RU",{hour:"numeric",minute:"numeric"})),alt:"weather condition"})]}),Object(m.jsxs)("div",{className:s.a.middle,children:[Object(m.jsx)("div",{className:s.a.description,children:a.description}),Object(m.jsxs)("div",{children:["\u041e\u0449\u0443\u0449\u0430\u0435\u0442\u0441\u044f \u043a\u0430\u043a ",Math.round(a.feels_like),"\xb0 C"]})]}),Object(m.jsx)(j.b,{to:"/daily",children:Object(m.jsx)("span",{children:"\u041f\u043e\u0433\u043e\u0434\u0430 \u043d\u0430 \u0434\u0440\u0443\u0433\u0438\u0435 \u0434\u043d\u0438"})})]})})})})})},f=a(5),O=a(23),x=a.n(O),_=a(40),v=a(18),y=a.n(v),w=a(14),N=a.n(w),k=(a(91),a(92),a(96)),C=a(95),W=a(13),S=a(33),D=a(34),L=a(35);W.a.use([S.a,D.a,L.a]);var H=function(e){var t=e.data;return Object(m.jsx)("div",{className:N.a.hourlyWeather,children:Object(m.jsx)(k.a,{slidesPerView:1,modules:[S.a,L.a,D.a],navigation:t.length>1,scrollbar:{draggable:!0},children:t.map((function(e){return Object(m.jsxs)(C.a,{children:[function(e){var t=e.isActive;return Object(m.jsxs)("div",{children:["Current slide is ",t?"active":"not active"]})},Object(m.jsxs)("div",{className:N.a.hourlyCard,children:[Object(m.jsx)("div",{className:N.a.date,children:e.day}),Object(m.jsxs)("div",{className:N.a.degrees,children:[Object(m.jsxs)("div",{children:[e.temp,Object(m.jsx)("span",{children:"\xb0C"})]}),Object(m.jsx)("img",{src:p(e.main,new Date(e.date).toLocaleString("ru-RU",{hour:"numeric",minute:"numeric"})),alt:""})]}),Object(m.jsx)("div",{className:N.a.weatherCondition,children:Object(m.jsx)("div",{children:e.description?e.description:"no detail"})}),Object(m.jsxs)("div",{className:N.a.feelsLike,children:["\u041e\u0449\u0443\u0449\u0430\u0435\u0442\u0441\u044f \u043a\u0430\u043a ",Object(m.jsxs)("span",{children:[e.feels_like,"\xb0 C"]})]})]})]})}))})})},A=a(41),M=a.n(A),F=function(e){var t=e.dayName;return Object(m.jsx)("div",{children:Object(m.jsxs)("div",{children:[Object(m.jsx)("h1",{className:M.a.weekdayName,children:function(e){var t=new Date;return e===t.toLocaleString("ru-RU",{weekday:"long"})?"\u0441\u0435\u0433\u043e\u0434\u043d\u044f":e===function(){var e=new Date(t);return e.setDate(e.getDate()-1),e.toLocaleString("ru-RU",{weekday:"long"})}()?"\u0432\u0447\u0435\u0440\u0430":e===function(){var e=new Date(t);return e.setDate(e.getDate()+1),e.toLocaleString("ru-RU",{weekday:"long"})}()?"\u0437\u0430\u0432\u0442\u0440\u0430":e}(t.day)}),Object(m.jsx)("div",{children:Object(m.jsx)(H,{data:t.data})})]})})},R=function(e){var t=e.city,a=e.list,r=Object(n.useState)([]),i=Object(d.a)(r,2),c=i[0],s=i[1],o=function(e,t){return new Date(e.dt_txt).toLocaleString("ru-RU",{weekday:"long"}).toLowerCase()===t},l=function(e){return e.map((function(e){return{day:new Date(e.dt_txt).toLocaleString("ru-RU",{day:"numeric",month:"long",hour:"numeric",minute:"numeric"}),temp:Math.round(e.main.temp),feels_like:Math.round(e.main.feels_like),description:e.weather[0].description,date:e.dt_txt,main:e.weather[0].main}}))};return Object(n.useEffect)((function(){var e=[{day:"\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a",data:l(a.filter((function(e){return o(e,"\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a")})))},{day:"\u0432\u0442\u043e\u0440\u043d\u0438\u043a",data:l(a.filter((function(e){return o(e,"\u0432\u0442\u043e\u0440\u043d\u0438\u043a")})))},{day:"\u0441\u0440\u0435\u0434\u0430",data:l(a.filter((function(e){return o(e,"\u0441\u0440\u0435\u0434\u0430")})))},{day:"\u0447\u0435\u0442\u0432\u0435\u0440\u0433",data:l(a.filter((function(e){return o(e,"\u0447\u0435\u0442\u0432\u0435\u0440\u0433")})))},{day:"\u043f\u044f\u0442\u043d\u0438\u0446\u0430",data:l(a.filter((function(e){return o(e,"\u043f\u044f\u0442\u043d\u0438\u0446\u0430")})))},{day:"\u0441\u0443\u0431\u0431\u043e\u0442\u0430",data:l(a.filter((function(e){return o(e,"\u0441\u0443\u0431\u0431\u043e\u0442\u0430")})))},{day:"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435",data:l(a.filter((function(e){return o(e,"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435")})))}].sort((function(e,t){return 0===e.data.length||0===t.data.length?0:e.data[0].day<t.data[0].day?1:e.data[0].day>t.data[0].day?-1:void 0})).reverse().filter((function(e){return 0!==e.data.length}));s(e)}),[]),Object(m.jsxs)("div",{className:y.a.App,children:[Object(m.jsx)("div",{className:y.a.header,children:Object(m.jsx)("h1",{children:t.name})}),Object(m.jsx)("hr",{}),c.length>0?Object(m.jsx)("div",{className:y.a.forecastWrapper,children:c.map((function(e){return Object(m.jsx)(F,{dayName:e})}))}):Object(m.jsx)(m.Fragment,{})]})},P=a(24),U=a.n(P),I=function(){var e=Object(n.useState)(!0),t=Object(d.a)(e,2),a=t[0],r=t[1],i=Object(n.useState)([]),c=Object(d.a)(i,2),s=c[0],o=c[1];return Object(n.useEffect)((function(){r(!0),navigator.geolocation.getCurrentPosition(function(){var e=Object(_.a)(x.a.mark((function e(t){var a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h(t.coords.latitude,t.coords.longitude);case 3:a=e.sent,o({list:a.data.list,city:a.data.city}),r(!1),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),alert(e.t0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),(function(e){alert("Plz turn on the browser geolocation bro")}),{enableHighAccuracy:!0})}),[]),Object(m.jsx)("div",{className:U.a.App,children:Object(m.jsx)("div",{className:U.a.appHeader,children:a?Object(m.jsx)(b,{}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(j.b,{to:"../",children:[Object(m.jsx)("img",{src:"./img/content/arrow.svg",alt:"Go ."}),Object(m.jsx)("span",{children:"Back"})]}),Object(m.jsx)("div",{children:Object(m.jsx)(R,{city:s.city,list:s.list})})]})})})};var E=function(){return Object(m.jsxs)("div",{children:[Object(m.jsx)(f.a,{path:"/",exact:!0,children:Object(m.jsx)(g,{})}),Object(m.jsx)(f.a,{path:"/daily",exact:!0,children:Object(m.jsx)(I,{})})]})},z=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,97)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,i=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),i(e),c(e)}))};i.a.render(Object(m.jsx)(j.a,{children:Object(m.jsx)(E,{})}),document.getElementById("root")),z()}},[[93,1,2]]]);
//# sourceMappingURL=main.a4dad9c0.chunk.js.map